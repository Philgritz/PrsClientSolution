
<app-menu></app-menu>
<div class="component">
  <div class="header">
  <span class="pagetitle">Request Review List</span> |
  <span class="createlink">
    <a routerLink="/requests/create">CREATE</a>
  </span> |
  <input class="search" [(ngModel)]="searchCriteria" type="text" placeholder="Search">
  <hr>
  </div>
  <table class="table table-sm">
    <tr class="tableheader">
      <td><a (click)="sortBy('id')">Id</a></td>
      <td><a (click)="sortBy('description')">Description</a></td>
      <td><a (click)="sortBy('justification')">Justification</a></td>
      <td><a (click)="sortBy('reasonRejection')">ReasonRejection</a></td>
      <td><a (click)="sortBy('deliveryMode')">DeliveryMode</a></td>
      <td><a (click)="sortBy('status')">Status</a></td>
      <td><a (click)="sortBy('total')">Total</a></td>
      <td>Actions</td>
    </tr>
    <tr *ngFor="let request of requests | searchRequests:searchCriteria | sort:sortCriteria:sortOrder">
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">{{request.id}}</td>
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">{{request.description}}</td>
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">{{request.justification}}</td>
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">{{request.reasonRejection}}</td>
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">{{request.deliveryMode}}</td>
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">{{request.status}}</td>
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">{{request.total | currency}}</td>
      <td *ngIf="request.status == 'REVIEW' && currentuserid !== request.userId">
        <span class="actions">
          <a routerLink="/requests/review/item/{{request.id}}">REVIEW</a> 
        </span>

      </td>
    </tr>
  </table>

</div>


